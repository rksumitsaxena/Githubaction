name : exploring variables and Secrets
on : push 

jobs:
  docker:
    env: 
          CONTAINER_REGISTRY: docker.io
          DOCKER_USERNAME: sumit
          IMAGE_NAME: github-action-nginx
    runs-on: ubuntu-latest
    steps:
      - name: "Docker Build"        
        run: echo docker build -t $CONTAINER_REGISTRY/$dockerUsername/imageName:latest

      - name: "Docker Login"
        env:          
          DOCKER_PASSWORD: sumit          
        run: echo docker login --username=$DOCKER_USERNAME --pasword=$DOCKER_PASSWORD

      - name: "Docker Publish"
        
        run: echo docker build -t $CONTAINER_REGISTRY/$dockerUsername/imageName:latest

  deploy:
    env: 
          CONTAINER_REGISTRY: docker.io
          DOCKER_USERNAME: sumit
          IMAGE_NAME: github-action-nginx
    needs: docker
    runs-on: ubuntu-latest
    
    steps:
    - name: Docker Run
      run: docker run -d -p 8080:80 docker.io/dockerUsername/imageName:latest


































# enviroment varibale at job level 
name : exploring variables and Secrets
on : push 

jobs:
  docker:
    runs-on: ubuntu-latest
    steps:
      - name: "Docker Build"
        env: 
          CONTAINER_REGISTRY: docker.io
          DOCKER_USERNAME: sumit
          IMAGE_NAME: github-action-nginx
        run: echo docker build -t $CONTAINER_REGISTRY/$dockerUsername/imageName:latest

      - name: "Docker Login"
        env: 
          DOCKER_USERNAME: admin
          DOCKER_PASSWORD: sumit          
        run: echo docker login --username=$DOCKER_USERNAME --pasword=$DOCKER_PASSWORD

      - name: "Docker Publish"
        env: 
          CONTAINER_REGISTRY: docker.io
          DOCKER_USERNAME: sumit
          IMAGE_NAME: github-action-nginx
        run: echo docker build -t $CONTAINER_REGISTRY/$dockerUsername/imageName:latest

  deploy:
    needs: docker
    runs-on: ubuntu-latest
    
    steps:
    - name: Docker Run
      run: docker run -d -p 8080:80 docker.io/dockerUsername/imageName:latest


























# working with enviorment variables
# name : exploring variables and Secrets
# on : push 

#
#jobs:
#  docker:
#    runs-on: ubuntu-latest
#    steps:
#      - name: "Docker Build"
#        run: docker build -t docker.io/dockerUsername/imageName:latest
#
#      - name: "Docker Login"
#        run: docker login --username=dockerUsername --pasword=s3cUrePaSswOrd
#
#      - name: "Docker Publish"
#        run: docker push docker.io/dockerUsername/imageName:latest
#
#  deploy:
#    needs: docker
#    runs-on: ubuntu-latest
#    
#    steps:
#    - name: Docker Run
#      run: docker run -d -p 8080:80 docker.io/dockerUsername/imageName:latest



        